/* ==========================================================================
   Curriculum Units – Landing Page
   ========================================================================== */

.curriculum-unit-block-row {
  @include grid-row($behavior:nest);
}

.curriculum-unit-block {
  @include grid-column(3);
  margin-bottom: 30px;

  .unit-subtitle {
    @include ribbon;
    padding-left: 10px;
    margin-bottom: 10px;
  }

  .unit-image {
    width: 100%;
    height: 130px;
    background-size: cover;
    background-repeat: no-repeat;
  }

  .unit-intro--left__container {
    border: 1px solid #ccc;
  }

  .unit-title {
    @include h6;
    @include subheader;
    margin: 0;
    line-height: 1.2;
    overflow: hidden;
    padding: 10px;
    font-size: 12pt;

    a {
      display: block;
    }
  }

  .unit-terms {
    @include grid-row();
    padding-bottom: 10px;
  }

  .taxonomy-term {
    @include grid-column(4);
  }

  .term-icon .field-items {
    @include red-circle-icon;
  }

  .term-name {
    margin-top: 10px;
    font-size: 11px;
    line-height: 13px;
    text-align: center;
  }

  .unit-field {
    @include museo-sans;
    background-color: $white;
    padding: 10px;
    color: $eie-blue;
    font-size: 13px;
    font-weight: 700;
    border-right: 1px solid #ccc;
    border-bottom: 1px solid #ccc;
    border-left: 1px solid #ccc;
  }
}

// Setting fixed text heights for the EC curriculum unit blocks only
.ec {
  .curriculum-unit-block {
    .unit-title {
      height: 82px;
    }
    .term-name {
      span {
        display: block;
        height: 38px;
      }
    }
  }
}
/* ==========================================================================
   Curriculum Units – Detail Page
   ========================================================================== */

//  Page Template Overrides

.node-type-curriculum-unit {

  // Changing main background
  .main {
    background-image: none;
  }

  // Hiding breadcrumbs
  .breadcrumbs {
    @include element-invisible;
  }
}


//  Unit Intro Section

.curriculum-unit-detail .unit-intro {
  background: #ECF0F8;
  padding: 30px 0;

  .unit-intro--header {
    max-width: 960px;
    width: 100%;
    margin: auto;

    // Subtitle Ribbon
    .field-item {
      @include ribbon($background-color: $dark-gray, $font-size: 12px, $display: inline-block);
      text-transform: uppercase;
    }

    // Title
    h1 {
      margin-bottom: 20px;
    }
  }

  .unit-intro--content {
    max-width: 960px;
    margin: auto;
    @include clearfix();
  }

  .unit-intro--left {
    @media(min-width: 769px) {
      @include grid-column(4);
    }
    @media(max-width: 768px) {
      padding: 0 20px;
    }
    .image img {
      display: block;
      width: 100%;
      height: auto;
    }

    .whats-included {
      border: 1px solid #ccc;
      overflow: hidden;
      padding: 15px 20px 20px;
      background-color: $white;

      .field-name-field-unit-included-materials {
        @include clearfix();
      }

      h3 {
        @include h5;
        margin: 0 0 10px;
      }

      ul {
        font-size: 14px;
        line-height: 1.2;
        margin-bottom: 20px;

        & li + li { margin-top: 5px; }
      }

      .btn {
        display: block;
        line-height: 46px;
        padding-top: 0;
        padding-bottom: 0;
        text-align: center;

        + .btn {
          margin-top: 1em;
        }
      }
    }

  }

  .unit-intro--right {
    @media(min-width: 769px) {
      @include grid-column(8);
    }

    .unit-at-glance {
      @include featured-box;

      .unit-terms {
        display: flex;
        @media(max-width: 768px) {
          justify-content: center;
          width: 100%;
        }
      }
      .taxonomy-term {
        max-width: 50px;
        margin-right: 20px;
        margin-bottom: 20px;
      }

      .term-icon .field-items {
        @include red-circle-icon;
      }

      .term-name {
        margin-top: 10px;
        font-size: 11px;
        line-height: 13px;
        text-align: center;
      }

      .unit-field {
        @include museo-sans;

        margin: 0 -15px 20px;
        padding: 0 15px;
        line-height: 40px;
        font-weight: 500;
        background-color: $eie-light-yellow;
      }

      .unit-details ul {
        font-size: 14px;
        line-height: 1.2;
        @media(min-width: 769px) {
          margin: 15px 20px 0;
        }

        & li + li { margin-top: 5px; }
      }
    }

    .unit-overview {
      @include clearfix;

      margin-top: 20px;

      h3 {
        margin-top: 0;
      }
    }

  }

}


//  Unit Contents Container

.curriculum-unit-detail .unit-contents {
  // padding-top: 30px;
  // padding-bottom: 30px;
}


//  Unit Optional Teaching Supplies
  .unit-lesson--materials {
    h3{
      background-color: #f4f5f9;
    }
  }



  .unit-supplies,
  .unit-resources{
    > div {
        border: 1px solid #f3f3f3;
        padding: 20px;
      }
    > h3{
      font-size: 18px;
      color: #626262;
      font-weight: normal;
      background-color: #f3f3f3;
      padding: 19px 0 19px 19px;
      margin-top: 0px;
      margin-bottom: 0px;
    }
  }

.unit-resources{
  padding-top: 20px;

  ul{
    margin-bottom: 0;
    padding-bottom: 0;
    li{
      list-style: none;
      padding-bottom: 10px;
      width: 50%;
      display: inline-block;
    }
  }
}

.curriculum-unit-detail .unit-supplies {
  margin-bottom: 15px;
  margin-top: 2em;
  .unit-materials + .unit-storybook {
    margin-top: 20px;
  }

  .unit-materials {
    @include grid-row($behavior:nest);

    .materials-image {
      @include grid-column(3);

      & img {
        display: block;
        margin: 0 auto;
        width: auto;
        max-height: 220px;
        border: 1px solid $light-gray;
      }
    }
  }

  .materials-description {
    @include grid-column(9);
  }

  .materials-description--title {

    h3 {
      @include subheader;
      // color: $eie-blue;
      line-height: 1;
      margin-top: 0;
    }
  }

  .materials-description--link {
    margin-bottom: 1em;

    strong {
      margin-bottom: 8px;
      display: block;
    }
  }

  .unit-storybook {
    @include grid-row($behavior:nest);

    .storybook-image {
      @include grid-column(3);

      & img {
        display: block;
        margin: 0 auto;
        width: auto;
        max-height: 220px;
      }
    }
  }

  .storybook-description {
    @media(min-width: 769px) {
      @include grid-column(9);
    }
  }

  .storybook-description--title {

    h3 {
      @include subheader;
      // color: $eie-blue;
      line-height: 1;
      margin-top: 0;
    }
  }
}


//  Unit Lessons

.curriculum-unit-detail .unit-resources {
  @include clearfix;
}

.curriculum-unit-detail .unit-lessons .unit-lesson {
  border-top: 1px solid #ccc;
  padding-top: 30px;
  margin-top: 30px;
}

.curriculum-unit-detail .unit-lesson {
  padding-bottom: 2em;

  .unit-lesson--title {

    h4 {
      @include ribbon($font-size: 12px, $display: inline-block);
      text-transform: uppercase;
    }

    h3 {
      margin-bottom: 5px;
    }
  }

  .unit-lesson--image {
    @include grid-column(3);
    padding-left: 0px;
    padding-right: 20px;
    padding-bottom: 20px;
    margin-top: 5px;
  }

  .unit-lesson--image + .unit-lesson--body {
    margin-top: 5px;
  }

  .unit-lesson--body {

    p {
      margin-bottom: 20px;
    }
  }
  .field-name-field-lesson-purchase-link {
    display: block;
    margin-bottom: 24px;
  }

  .unit-lesson--materials {
    @include featured-box;
    margin-top: 15px;
    clear: both;

    .materials-row {
      @include grid-row($behavior:nest);
    }

    .materials-videos,
    .materials-lessons {
      @include grid-column(6);
      @include clearfix;
    }

    .materials-sample-video {
      width: 100%;
      @include clearfix;
      padding: 0px 20px 0px 20px;
      .ui-widget-content{
        border: none;
      }
      .ui-widget-header{
        max-width: 810px;
        border-radius: 0px;
        border: none;
        background: none;
        li{
          padding-bottom: 0px;
          border-radius: 0px;
          border: none;
        }
      }
      .resource-reflection-questions > h3 {
        background: none;
      }
      .field-name-field-resource-questions {
        > .field-items {
          .field-collection-view-final {
            .reflection-question {
              margin-bottom: 0;
            }
          }
        }
      }
    }

    .materials-supporting {
      @include grid-column(4);
      @include clearfix;
    }

    h6 {
      text-transform: uppercase;
      margin: 0 0 10px;
    }

    p {
      line-height: 1.4;
      margin-bottom: 0;
    }

    .field {
      margin-bottom: 1em;
    }

    .materials-videos,
    .materials-supporting {
      a {
        display: block;
        margin-bottom: 5px;
      }
    }

    .materials-sample-video .video-content {

      .field {
        margin-bottom: 0;
      }

      .video-title {
        @include subheader;
        color: $body-font-color;
        margin-top: 0;
        margin-bottom: 0;
      }

      .video-link {
        @include h6;
        color: $link-color;
      }

      .video-embed {
        margin-top: 10px;
      }

      .video-part-container {
        padding: 0;
      }

      .video-tabs {
        padding: 0;
      }

      .video-part-tabs {
        @include small-tabs;
        margin: 20px 0 15px;
        padding: 0;
      }
    }
  }
}

/* ==========================================================================
   Curriculum Units – Sticky Nav
   ========================================================================== */

.curriculum-unit-detail {
  position: relative;
  overflow-x: hidden;
  margin-bottom: 30px;
  @media(min-width: 668px) {
    margin-bottom: 70px;
  }
  h2 {
    margin-top: 40px;
  }
}

.sticky-nav {
  position: absolute;
  width: 160px;
  right: -160px;
  background-color: $dark-gray;
  top: 120px;
  padding: 20px;
  z-index: 999;
  border-radius: 0 0 0 5px;
  color: #fff;
  @include transition(right 0.2s ease-in);
  // Hack to fix Chrome bug where the rendering of
  // the div is broken while scrolling or clicking
  -webkit-transform: translateZ(0);
  @media(max-width: 768px) {
    display: none;
  }
  span {
    color: #fff;
  }
  .menu-tab {
    position: absolute;
    top: 33px;
    left: -64px;
    color: $white;
    text-transform: uppercase;
    background-color: $dark-gray;
    line-height: 32px;
    padding: 0 18px 0 18px;
    cursor: pointer;
    font-weight: 500;
    border-radius: 0 0 5px 5px;
    @include museo-sans;
    @include transform(rotate(90deg));

    &:before {
      position: relative;
      content: '\f107';
      font-family: "fontAwesome";
      font-weight: bold;
      color: #fff;
      margin-right: 10px;
    }
  }

  &.open {
    right: 0;

    .menu-tab:before {
      content: '\f106';
    }
  }

  ul {
    @include side-nav($divider-color: $dark-gray, $font-size: 16px, $link-color: $white);

    li a {
      @include museo-sans;
      display: block;
      line-height: 1.2;
      padding: 10px;

      &:hover {
        background-color: $dark-gray;
      }
    }
  }

  .btn {
    margin-top: 15px;
  }
}

/* ==========================================================================
   Curriculum Units – H3 ACCORDION MOBILE TOGGLES
   ========================================================================== */
.materials-image__mobile img,
.storybook-image__mobile img {

  @media(min-width: 769px) {
    display: none;
  }
}
.intro-image__mobile img {
  display: none;
}

@media(max-width: 768px) {

  // H3s (mobile-accordion-toggle)
  .curriculum-unit-detail .unit-intro .unit-intro--right .unit-at-glance > h3,
  .curriculum-unit-detail .unit-intro .unit-intro--right .unit-overview h3,
  .curriculum-unit-detail .unit-lesson .unit-lesson--materials > h3,
  .unit-supplies > h3,
  .unit-resources > h3 {
    // --- class override
    &.mobile-accordion-toggle {
      position: relative;
      padding: 15px 70px 13px 20px;
      margin: 0;
      background: #e1e1e1;
      font-size: 18px;
      line-height: 22px;
      color: $text-color;
      width: 100%;
      &:after {
        content: '+';
        position: absolute;
        right: 20px;
        top: 0;
        bottom: 0;
        width: 25px;
        height: 25px;
        background-color: #da291c;
        color: white;
        line-height: 24px;
        text-align: center;
        border-radius: 50%;
        margin: auto;
        font-size: 27px;
      }
      &:before {
        content: "";
        height: 1px;
        width: 100%;
        background: #ccc;
        transition: opacity .4s ease;
        position: absolute;
        z-index: 1;
        top: 0;
        left: 0;
        opacity: 0;
      }
      &.active {
        &:before {
          opacity: 1;
        }
        &:after {
          content: '\2014';
          font-size: 18px;
          padding: 0;
        }
      }
      &.active + .mobile-accordion-content {
        &:after {
          content: "";
        }
        padding-bottom: 25px;
      }
    }
  }
  .curriculum-unit-detail .unit-lesson .unit-lesson--materials > h3,
  .unit-supplies > h3,
  .unit-resources > h3 {
    &.mobile-accordion-toggle {
      margin-left: -15px;
      width: calc(100% + 30px);
    }
  }
  .mobile-accordion-content {
//   	border: 1px solid #CCCCCC;
  	padding: 25px 0px;
  	display: none;
  	position: relative;
  	&:after {
    	content: "";
    	position: absolute;
    	height: 1px;
    	bottom: 0;
    	z-index: 1;
      background: #ccc;
      margin-left: -20px;
      width: calc(100% + 40px);
  	}
  	table.tablesaw tbody {
    	display: flex;
    	flex-wrap: wrap;
      tr {
      	width: 100%;
      	max-width: 50%;
      	margin-bottom: 0;
      	&:nth-child(odd) {
        	border-right: 0;
      	}
      	&:nth-child(n+3) {
        	border-top: 0;
      	}
    	}
  	}
  }

  //borders
  .curriculum-unit-detail .unit-lessons .unit-lesson,
  .curriculum-unit-detail .unit-lesson {
    border-top: 2px solid #ccc;
  }
  .curriculum-unit-detail .prepatory-lesson .unit-lesson {
    border: none;
  }

  .curriculum-unit-detail {
    margin-bottom: 60px;
    h2 {
      margin-top: 0px;
    }
  }
  .curriculum-unit-detail .unit-supplies {
    //margin-top: 60px;
    margin-bottom: 0;
  }
  .unit-resources{
    //margin-bottom: 50px;
  }
  .curriculum-unit-detail .unit-lesson .unit-lesson--materials {
    border: none;
    padding: 0;
  }
  .curriculum-unit-detail .unit-lesson .unit-lesson--materials .materials-sample-video {
    padding: 0;
  }
  .curriculum-unit-detail .unit-lesson .unit-lesson--materials .materials-row,
  .curriculum-unit-detail .unit-supplies .unit-materials,
  .curriculum-unit-detail .unit-supplies .unit-storybook {
    margin: 0;
  }
  .curriculum-unit-detail .unit-supplies .storybook-description--title h3,
  .curriculum-unit-detail .unit-supplies .materials-description--title h3 {
    margin-bottom: 15px;
  }
  .materials-image,
  .storybook-image {
    display: none;
  }
  .curriculum-unit-detail .unit-lesson .unit-lesson--image,
  .materials-image__mobile img,
  .storybook-image__mobile img {
    display: block;
    float: right;
    max-width: 75px;
    padding: 20px 0 20px 20px;
    margin: 0;
  }
  .intro-image__mobile img {
    display: block;
    float: left;
    width: 100%;
    height: auto;
    padding: 0px 20px 20px 0;
    margin: 0;
  }
  .curriculum-unit-detail .unit-intro .unit-intro--right .unit-at-glance {
    background: none;
    padding: 30px 20px 0;
    border: none;
  }
  .unit-at-glance .mobile-accordion-content {
    background: #fff;
    padding-left: 15px;
    padding-right: 15px;
    overflow-x: hidden;
  }
  .curriculum-unit-detail .unit-intro .unit-intro--right .unit-at-glance .unit-field {
    padding: 7px;
  }
  .unit-field {
    text-align: center;
    .field-label-inline .field-label,
    .field-items {
      text-align: center;
      display: block;
      width: 100%;
      font-size: 15px;
      line-height: 18px;
    }
  }
  .curriculum-unit-detail .unit-lesson .unit-lesson--body p,
  .unit-lesson--body .field-name-field-lesson-purchase-link a {
    margin-bottom: 24px;
    display: block;
  }
  div .resource-reflection-questions {
    margin-bottom: 0;
  }
  .curriculum-unit-detail .unit-lessons .unit-lesson,
  .curriculum-unit-detail .unit-lesson,
  .unit-lesson--materials .mobile-accordion-content {
    padding-bottom: 0;
  }
  .curriculum-unit-detail .unit-supplies .materials-description {
    width: 100%;
    padding: 0;
    float: none;
  }
  .unit-supplies > div,
  .unit-resources > div {
    border: none;
    padding-left: 5px;
    padding-right: 5px;
  }
  .curriculum-unit-detail .unit-lesson .unit-lesson--materials .materials-videos,
  .curriculum-unit-detail .unit-lesson .unit-lesson--materials .materials-lessons {
    width: 100%;
    padding: 0 5px;
  }
  .curriculum-unit-detail .unit-lesson .unit-lesson--title h3 {
    margin-bottom: 20px;
    margin-top: 3px;
  }
}

//Resource Cards
.paragraphs-items-field-unit-resource-cards{
    .field-label{
      display:none;
    }
}
